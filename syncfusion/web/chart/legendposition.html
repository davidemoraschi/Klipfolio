<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="../themes/bootstrap.min.css" rel="stylesheet">
    <link href="../themes/default-theme/ej.widgets.all.min.css" rel="stylesheet" />
    <link href="../themes/default.css" rel="stylesheet" />
	<link href="../themes/default-responsive.css" rel="stylesheet" />
    <!--[if lt IE 9]>
         <script src="../scripts/jquery-1.11.3.min.js" type="text/javascript"></script>
     <!--<![endif]-->
    <!--[if gte IE 9]><!-->
    <script src="../scripts/jquery-2.1.4.min.js" type="text/javascript"></script>
    <!--<![endif]-->
	<script src="../scripts/jquery.easing.1.3.min.js" type="text/javascript"></script>
	<script src="../scripts/jquery.globalize.min.js"></script>
    <script src="../scripts/ej.web.all.min.js" type="text/javascript"></script>
    <script src="../scripts/properties.js" type="text/javascript"></script>
 </head>
 <body>
	<div class="content-container-fluid">      
        <div class="row">               
            <div class="cols-sample-area">                                  				
				<div id="container"></div> 					                   
            </div>
			<div id="sampleProperties">
                <div class="prop-grid">
                    <div class="row">
                        <div class="col-md-3">
                            Position
                        </div>
                        <div class="col-md-3">
                            <select name="selectIndex"  id="optPositionChange">
								<option value="0">Bottom</option>
                                <option value="1">Left</option>
                                <option value="2">Top</option>
                                <option value="3">Right</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                           Alignment
                        </div>
                        <div class="col-md-3">
                            <select name="disableItem"  id="optAlignmentChange">
								<option value="0">Near</option>
                                <option value="1">Center</option>
                                <option value="2">Far</option>
                            </select>
                        </div>
					</div>
					<div class="row">
						<div class="col-md-3">
                           Height
                        </div>
                        <div class="col-md-3">
                            <input type="textbox" id="legendHeight" style="width:104px" />
                        </div>
						<div class="col-md-3">
                           
                        </div>
                        <div class="col-md-3">
                            (eg. 10% or 100)
                        </div>
						<div class="col-md-3">
                           Width
                        </div>
                        <div class="col-md-3">
                            <input type="textbox" id="legendWidth" style="width:104px" />
                        </div>
						<div class="col-md-3">
                           
                        </div>
                        <div class="col-md-3">
                            (eg. 10% or 100)
                        </div>
						<div class="col-md-3">
                           Row Count
                        </div>
                        <div class="col-md-3">
                            <select name="disableItem"  id="optRowcount">
                                <option value="1">1</option>
                                <option value="2">2</option>
								<option value="3">3</option>
								<option value="4">4</option>
								<option value="5">5</option>
								<option value="6">6</option>
								<option value="6">7</option>
								<option value="8">8</option>
								<option value="9">9</option>
								<option value="10">10</option>
                            </select>
                        </div>
						<div class="col-md-3">
                           Column Count
                        </div>
                        <div class="col-md-3">
                            <select name="disableItem"  id="optColumncount">
                                <option value="1">1</option>
                                <option value="2">2</option>
								<option value="3">3</option>
								<option value="4">4</option>
								<option value="5">5</option>
								<option value="6">6</option>
								<option value="6">7</option>
								<option value="8">8</option>
								<option value="9">9</option>
								<option value="10">10</option>
                            </select>
                        </div>
                    </div>                    
                </div>
			</div>
        </div>
    </div>	
 <script type="text/javascript" language="javascript">
	$("#legendWidth").val("")
	$("#legendHeight").val("")
	var chartObj;
    $(function () 
	{
        $("#container").ejChart(
        {
			//Initializing Series	
            series: 
			[
				{
                     points: 
					[
						{ x: 'Albania', y: 60.1, fill: "#E94649" }, { x: 'Argentina', y: 59.9, fill:"#6FAAB0" },
                        { x: 'Australia', y: 83.0, fill: "#C4C24A" }, { x: 'Austria', y: 80.6, fill: "#FB954F" },
                        { x: 'Bahrain', y: 90.0, fill: "#005277" }, { x: 'Belgium', y: 82.2, fill: "#8BC652" },
                        { x: 'Bermuda', y: 95.3, fill: "#69D2E7" }, { x: 'China', y: 45.8, fill: "#E27F2D" },
                        { x: 'Colombia', y: 51.7, fill: "#6A4B82" }, {x: 'France', y: 81.9, fill: "#F6B53F" },
                        { x: 'Germany', y: 84.0, fill: "#CC3399" },  { x: 'Italy', y: 58.5, fill: "#FF0066" },
                        { x: 'Malaysia', y: 67.0, fill: "#FF9900" },  { x: 'Mexico', y: 43.5, fill: "#009933" },
                        { x: 'Netherlands', y: 94.0, fill: "#6699FF" },  { x: 'New Zealand', y: 82.8, fill: "#CC99FF" }
					],
                    marker: 
					{
                        dataLabel: 
						{
                            visible: true,
                            shape: 'none', 
							connectorLine: { type: 'bezier', color: 'blue' },
                            font: { size: '14px',color:"white" }
                        }
                    },
                    border: { width: 1, color: 'white' },
                    name: 'Expenses',
					type: 'pie', 
					enableAnimation: true, 
					labelPosition: "inside", 
					smartLabelEnabled: true, 
					startAngle: 270
                }
            ],
            title: { text: 'Internet users (per 100 people) in 2013' },
            canResize: true,
			load:"loadTheme",
            preRender:"legendBorder",
            size: { height: "550"},
            legend: 
			{ 
				visible: true,
				border:{color:'black', width:1}, 
				position: "bottom", 
				alignment: "near", 
				title:
				{
					text:"Countries",
					textAlignment:"center", 
					font:
					{size:"15px",
					fontFamily: "Segoe UI",
                    fontStyle: "normal"
					} 
				}
			}
        });
		
		chartObj = $("#container").data("ejChart");
		
		$("#optPositionChange").ejDropDownList({ "change": "positionChanged",  width: "110px",selectedItemIndex:0 });
		
        $("#optAlignmentChange").ejDropDownList({ "change": "alignmentChanged", width: "110px",selectedItemIndex:0 });
		
		$("#optRowcount").ejDropDownList({ "change": "rowcountChanged", width: "110px",selectedItemIndex:0 });
		
		$("#optColumncount").ejDropDownList({ "change": "columncountChanged", width: "110px",selectedItemIndex:0 });
	});
       
    function alignmentChanged(sender) 
	{
        $("#container").ejChart("option", { "legend": legend(sender, sender.selectedText) });
		changeHeightWidth();    
	}
	
    function positionChanged(sender) 
	{
        $("#container").ejChart("option", { "legend": legend(sender, sender.selectedText) });
		changeHeightWidth();
    }
	
	function rowcountChanged(sender)
	{
        $("#container").ejChart("option", { "legend": legend(sender, sender.selectedText) });
		changeHeightWidth();
    }
	
	function columncountChanged(sender) 
	{
        $("#container").ejChart("option", { "legend": legend(sender, sender.selectedText) });
		changeHeightWidth();
    }
	function legendBorder(sender)
	{
	    if (sender.model.theme == "flatdark" || sender.model.theme == "gradientdark")
	        sender.model.legend.border.color = "white";
	}
	
    function legend(sender, data) 
	{
		switch(sender.model.change)
		{
			case "positionChanged":
                var legendPosition = data.toLowerCase();
                return {
                    position: legendPosition
                }; 
			break;
			case "alignmentChanged":
                var legendAlignment = data.toLowerCase();
                return {
                    alignment: legendAlignment
                };
			break;
			case "rowcountChanged":
				var count=data;
				return {rowCount:count};
			break;
			case "columncountChanged":
				var count=data;
				return {columnCount:count};
			break;
		}
    }
	
	$('#legendWidth').change(changeHeightWidth);
	
    $('#legendHeight').change(changeHeightWidth);
	
    function changeHeightWidth()
    {
        var width = $("#legendWidth").val();
        var height = $("#legendHeight").val();
        var chart = $("#container").ejChart("instance");
        chart.model.legend.size.width = width;
        chart.model.legend.size.height = height;
        chart.redraw();
    }
	
	$("#container").ejWaitingPopup({ showOnInit: false })
	
	$("#sampleProperties").ejPropertiesPanel();
 </script>
 </body>
</html>