<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Flow Chart</title>
    <link href="../themes/default-theme/ej.widgets.all.min.css" rel="stylesheet" />
    <link href="../themes/default.css" rel="stylesheet" />
    <!--[if lt IE 9]>
         <script src="../scripts/jquery-1.11.3.min.js" type="text/javascript"></script>
     <!--<![endif]-->
    <!--[if gte IE 9]><!-->
    <script src="../scripts/jquery-2.1.4.min.js" type="text/javascript"></script>
    <!--<![endif]-->
    <script src="../scripts/jquery.easing.1.3.min.js"></script>
    <script src="../scripts/ej.web.all.min.js"></script>

</head>
<body>
    <div class="content-container-fluid">      
        <div class="row">                
            <div class="cols-sample-area"> 
                <div id="diagram"></div>
            </div>
        </div>
    </div>

    <script>
        var margin = { "left": 20, "top": 0, "right": 20, "bottom": 0 };
        var nodes =
            [
                { name: "NewIdea", width: 150, height: 60, offsetX: 300, offsetY: 60, labels: [{ "text": "New idea identified" }], shape: "path", pathData: "M 45 220 L 45 220 A 20 30 0 0 1 45 280 L 45 280 A 20 30 0 0 1 45 220 Z" },
                { name: "Meeting", width: 150, height: 60, offsetX: 300, offsetY: 155, labels: [{ "text": "Meeting with board" }], shape: "rectangle" },
                { name: "BoardDecision", width: 150, height: 110, offsetX: 300, offsetY: 280, labels: [{ text: "Board decides \nwhether \nto proceed", wrapText: "true", "margin": margin }], shape: "polygon", points: [{ x: 310, y: 50 }, { x: 340, y: 80 }, { x: 310, y: 110 }, { x: 280, y: 80 }] },
                { name: "Project", width: 150, height: 100, offsetX: 300, offsetY: 430, labels: [{ "text": "Find Project \nmanager" }], shape: "polygon", points: [{ x: 310, y: 50 }, { x: 340, y: 80 }, { x: 310, y: 110 }, { x: 280, y: 80 }] },
                { name: "End", width: 150, height: 60, offsetX: 300, offsetY: 555, labels: [{ "text": "Implement and Deliver" }], shape: "rectangle" },
                { name: "Decision", width: 250, height: 60, offsetX: 550, offsetY: 60, labels: [{ "text": "Decision Process for new software ideas" }], shape: "polygon", points: [{ x: 280, y: 60 }, { x: 400, y: 60 }, { x: 400, y: 110 }, { x: 260, y: 110 }, { x: 260, y: 75 }], fillColor: "#858585", borderColor: "#858585" },
                { name: "Reject", width: 150, height: 60, offsetX: 550, offsetY: 285, labels: [{ "text": "Reject and write report" }], shape: "rectangle" },
                { name: "Resources", width: 150, height: 60, offsetX: 550, offsetY: 430, labels: [{ "text": "Hire new resources" }], shape: "rectangle" }
            ];

        var connectors = [
                { name: "connector1", sourceNode: "NewIdea", targetNode: "Meeting" },
                { name: "connector2", sourceNode: "Meeting", targetNode: "BoardDecision" },
                { name: "connector3", sourceNode: "BoardDecision", targetNode: "Project", labels: [{ "text": "Yes" }] },
                { name: "connector4", sourceNode: "Project", targetNode: "End", labels: [{ "text": "Yes" }] },
                { name: "connector5", sourceNode: "BoardDecision", targetNode: "Reject", labels: [{ "text": "No" }] },
                { name: "connector6", sourceNode: "Project", targetNode: "Resources", labels: [{ "text": "No" }] }
        ];
		
		if (!(ej.browserInfo().name === "msie" && Number(ej.browserInfo().version) < 9)) {
			jQuery(function () {
				$("#diagram").ejDiagram({
					width: "100%",
					height: "600px",
					nodes: nodes,
					pageSettings: { scrollLimit: "diagram" },
					defaultSettings: {
						node: { borderColor: "#1BA0E2", fillColor: "#1BA0E2", labels: [{ "fontColor": "white" }] },
						connector: { targetDecorator: { shape: "arrow", borderColor: "#606060", width: "10", height: "10" }, lineColor: "#606060", labels: [{ "fillColor": "white" }] },
					},
					connectors: connectors,
					enableContextMenu: false
				});
			});
		}
		else {
			alert("Diagram will not be supported in IE Version < 9");
		}

    </script>
</body>
</html>
